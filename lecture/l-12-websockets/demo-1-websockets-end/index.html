<html>
<head>
    <script>
        const socketURL = ((window.location.protocol === "https:") ? "wss:" : "ws:")
                           + "//" + window.location.host + "/chatSocket"

        //const socketURL = "ws://localhost:3000/chatSocket"
        const webSocket = new WebSocket(socketURL)

        function sendChat() {
            const chatMsg = document.getElementById("textInput").value
            webSocket.send(chatMsg)
        }

        webSocket.onmessage = event => {
            const chatMsg = event.data
            document.getElementById("output").innerText += chatMsg + "\n"
        }
    </script>
</head>
<body>
    <h1>Web socket chat demo!</h1>

    <input type="text" id="textInput" />
    <button id="sendBtn" onclick="sendChat()">send</button>

    <h3>chat history</h3>
    <div id = "output"></div>
</body>
</html>